---
date: 2024-05-08
layout: post
title: SQL과 MySQL 
subtitle:  
image: 데이터 유형 및 데이터 조작
  'assets/img/uploads/2024/may/sql.jpg'
optimized_image:    
  'assets/img/uploads/2024/may/p_sql.jpg'
category: blog
tags: [ blog, sql ]
author: sammy
paginate: true
---
# 데이터 유형 및 데이터 조작

## 데이터 유형 소개
MySQl의 데이터 유형은 테이블의 열에 저장할 수 있는 값의 종류를 정의함.
가능한 값의 범위와 해당 값에 대해 수행할 수 있는 작업을 지정함.
테이블의 각 열에는 어떤 종류의 데이터를 저장할 수 있는지 결정하는 특정 데이터 유형이 있음.

## 일반적인 데이터 유형
- 숫자 유형
    - INT: 정수를 저장
    - DOUBLE: 부동 소수점 숫자를 저장
- 문자열 유형
    - CHAR: 고정 길이 문자열, 짧은 문자열 저장.
    - VARCHAR: 가변 길이 문자열, 필요한 만큼만 공간을 사용함, 긴 문자열 저장.

- 예:
```sql
CREATE TABLE products(
    product_id INT NOT NULL PRIMARY KEY,
    product_name VARCHAR(100),
    product_cost INT
);
```
위의 예에서는 "product_id","product_name","product_cost"라는 3개의 열이 있는 product 테이블임.

- "product_id" 열은 INT 유형이며, "NOT NULL" 로 인해 비어있을 수 없고, 테이블의 Primary Key이기도 함.
- "product_name" 열은 VARCHAR(100)으로 정의됨. 최대 100자의 고정길이 문자열을 저장할 수 있음. 100자 보다 짧은 문자열을 저장하는 경우.
- "product_cost" 열은 INT로 정의되며 "-2^31 ~ 2^31" 범위의 숫자를 저장할 수 있음.

- 날짜 및 시간 유형:
    * DATE: YYYY-MM-DD 형식으로 날짜를 저장
    * TIME: HH:MM:SS 형식으로 시간을 저장
    * DATETIME, TIMESTAMP : 날짜 및 시간 정보 저장.

- BOOLEAN, TINYINT 유형:
    * TINYINT(1): true/false 또는 0/1 값을 저장하는 데 사용.

- 예시
```sql
-- CREATION of table with a column using TYNYINT
CREATE TABLE user_profile(
    user_id INT PRIMARY KEY,
    username VARCHAR(100),
    active_user TINYINT(1)
);

-- TINYINT can be used to show TRUE or FALSE
-- User can be updated to show they are non active
UPDATE user_profile SET active_user = 0
WHERE user_id = 3;
```
위의 예에서 "user_profile" 테이블에는 INT 유형의 "user_id", VARCHAR 유형의 "username", TINYINT(1) 유형의 "active_user" 라는 3개의 열이 있음.
"active_user" 열은 사용자가 활성 상태인지 여부에 대한 부울 형식의 정보를 저장하기 위함. 1은 활성, 0은 비활성.

TINYINT(1)은 부울 값을 나타내는 데 자주 사용되지만 모든 데이터베이스 시스템에서 부울 유형으로 엄격하게 적용되는 것은 아님. 일부 시스템에서는 TINYINT 범위(-128 ~ 127 또는 0 ~ 255 ) 내 모든 값을 허용할 수 있음. TINYINT가 부울 유사값에 대해 어떻게 처리되고 사용되는지 이해하려면 DB 시스템의 문서를 확인하는 것이 중요함.

- 바이너리 유형:
BLOB: 이미지, 오디오 등과 같은 이진 데이터를 저장하는데 사용하는 Binary Large Object의 약자.

## 데이터 유형의 중요성:
- 저장 효율성: 올바른 데이터 유형을 선택하면 공간을 절약.
- 데이터 무결성: 데이터 유형은 유효하고 의미있는 데이터만 DB에 저장하도록 보장.
- 쿼리 성능: 유형을 사용하면 쿼리속도가 빨라짐.

ex) 
- 시나리오1: "ID"를 INT데이터 유형으로 사용해 쿼리가 빠른 숫자 비교를 수행하여 ID가 123인 레코드를 검색.
- 시나리오2: "ID"를 VARCHAR 데이터 유형으로 사용해 쿼리가 동일한 결과에 대한 더 느린 문자열 비교를 수행.
두 시나리오에서 시나리오1과 같은 INT 비교를 통해 적절한 데이터 유형을 사용하면 쿼리 성능이 향상되는 식.

1. 올바른 데이터 유형 선택:
- 저장하는 데이터의 성격을 고려, 공간 낭비에 주의. 필요 이상의 큰 데이터 유형을 사용하지 말것, 반대로 데이터가 잘리거나 손실될 수 있는 경우 더 작은 데이터 유형을 사용.
2. 데이터 유형 번경:
- SQL 명령을 사용해 열의 데이터 유형을 변경할 수 있지만 올바르게 수행하지 않으면 데이터가 손실될 수 있으므로 주의.
3. Null 값:
```sql
CREATE TABLE students(
    id INT NOT NULL PRIMARY KEY,
    name VARCHAR(100),
    class_number INT
);
```
- 'NULL' 값을 허용하거나 허용하지 않는 속성이 있을 수도 있음. Null은 데이터가 없음을 나타냄.

